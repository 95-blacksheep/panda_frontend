<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" type="image/png" href="../../images/panda.svg" />

    <title>Panda</title>

    <!--Google's Material Font-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!--Links-->
    <link rel="stylesheet" href="../../css/styles.css" />
  </head>




  <body>
    <header>
      <nav>
        <div class="logo">
          <a href="../../admin/index.html">
            <h3>Pan<span>Da</span></h3>
          </a>
        </div>

        <div class="nav_items">
            <ul class="navlist">
              <li><a href="../../faqs.html" id="faqs">FAQ's</a></li>
              <li><a href="../../admin/index.html" id="dashboard">Dashboard</a></li>
              <li><a href="../../admin/logout.html" id="logout">Logout</a></li>
            </ul>
  
  
              <div class="nav_btns">
                <btn id="open_nav-btn" class="material-symbols-outlined">
                    menu
                </btn>
                <btn id="close_nav-btn" class="material-symbols-outlined">
                    close
                </btn>
            </div>
          </div>
      </nav>
    </header>









    <section class="dashboard">
        <div class="dashboard_container">
            <aside>

                
                <div class="sidebar_toggle">
                    <btn class="material-symbols-outlined" id="show_sidebar_btn">
                      left_panel_close
                    </btn>
              
                    <btn class="material-symbols-outlined" id="hide_sidebar_btn">
                      left_panel_open
                    </btn>
                  </div>



                <center>
                    <div class="profile">
                        <img src="../../images/dashboard_profile.jpg" alt="User's Profile Pic." />
                        <h3>Pw/L/Cpl. Janet Jackson</h3>
                        <p>Admin</p>
                    </div>
                </center>

                <div class="aside_links">
                    <div class="aside_links-group" style="margin-bottom: 2rem; padding: 0 1rem">
                        <div class="group_name">
                            <a href="../../admin/index.html" class="is_active">
                                <span><i class="material-symbols-outlined">
                                        home</i></span>
                                Dashboard</a>
                        </div>
                    </div>



                    <div class="aside_links-group">
                        <div class="group_name">
                            <p>
                                Compulsory Retirement
                            </p>

                            <span>
                                <btn class="open_btn"><i class="material-symbols-outlined">
                                        arrow_drop_down</i></btn>
                                <btn class="close_btn"><i class="material-symbols-outlined">arrow_drop_up</i></btn>
                            </span>
                        </div>

                        <div class="group_items" id="office_ops">
                            <ul>
                                <li>
                                    <a href="index.html">
                                        <span><i class="material-symbols-outlined">
                                                keyboard</i></span>
                                        Typing Desk</a>
                                </li>
                                <li>
                                    <a href="comp_retirement.html" style="color: var(--color_gold);">
                                        <span><i class="material-symbols-outlined">
                                                directions_run</i></span>
                                        Retirement List</a>
                                </li>

                                <li>
                                    <a href="inspr_new_retirement.html">
                                        <span><i class="material-symbols-outlined">
                                                directions_run</i></span>
                                        Inspr Retirement</a>
                                </li>

                                <li>
                                    <a href="spo_new_retirement.html">
                                        <span><i class="material-symbols-outlined">
                                                directions_run</i></span>
                                        SPO Retirement</a>
                                </li>

                            </ul>
                        </div>
                    </div>
                </div>
            </aside>
















            <main>

                
                <div class="alert_message success" id="alert_message">
                    <p>
                        This is success!
                    </p>
                    <script>
                        setTimeout(() => {
                            alert_message.remove();
                        }, 10000);
                    </script>
                </div>
                <div class="main_container">
                    <div class="main_title">
                        <h1>Preview of <span> Compulsory Retirement</span> List</h1>
                        <p>Preview of officers who retired compulsorily at age 60.</p>
                    </div>


                    <div class="search_container">
                        <center>
                            <input type="text" class="search" id="search_input" placeholder="Search...">
                        </center>
                    </div>


                    <script>
                        document.addEventListener("DOMContentLoaded", function () {
                            const searchInput = document.getElementById("search_input");
                            const tableRows = document.querySelectorAll("#main_table tbody tr");

                            searchInput.addEventListener("input", function () {
                                // Get the input value and remove trailing consecutive spaces after each word
                                const inputValue = this.value.replace(/\s+/g, ' ').trim();
                                const searchText = inputValue.toLowerCase();

                                let found = false;

                                tableRows.forEach(function (row) {
                                    const sno = row.querySelector(".number#sno").textContent
                                        .toLowerCase();
                                    const name = row.querySelector(".name").textContent
                                        .toLowerCase();

                                    if (sno.includes(searchText) ||
                                        name.includes(searchText)) {
                                        row.style.display = "";
                                        found = true;
                                        document.getElementById("recordnotfound").style
                                            .display = "none";
                                    } else {
                                        row.style.display = "none";
                                    }
                                });

                                // If no matching rows found, hide the table
                                if (!found) {
                                    document.querySelector(".main_table").style.display = "none";
                                    document.getElementById("recordnotfound").style.display = "block";

                                } else {
                                    document.querySelector(".main_table").style.display = "";
                                }
                            });
                        });
                    </script>





                    <div class="action_panel">

                        <div class="action_group" id="sort_group">
                            <i class="material-symbols-outlined">
                                person_search</i>
                            <p>Sort</p>
                        </div>
                        <div class="action_group" id="columns_group">
                            <i class="material-symbols-outlined">
                                splitscreen_right</i>
                            <p>Columns</p>
                        </div>
                        <div class="action_group" id="print">
                            <i class="material-symbols-outlined">
                                print</i>
                            <p>Print</p>
                        </div>
                    </div>

                    <script>
                        // Function to print the table
                        document.getElementById("print").addEventListener("click", function () {
                            var printContents = document.querySelector('.main_table').innerHTML;
                            var originalContents = document.body.innerHTML;
                            document.body.innerHTML = printContents;
                            window.print();
                            document.body.innerHTML = originalContents;
                        });
                    </script>

                    




                    <script>
                        document.getElementById('columns_group').addEventListener('click', function () {
                            var actionBox = document.getElementById('columns_box');
                            actionBox.classList.toggle('visible');
                        });

                        document.getElementById('sort_group').addEventListener('click', function () {
                            var actionBox = document.getElementById('sort_box');
                            actionBox.classList.toggle('visible');
                        });


                        document.addEventListener('DOMContentLoaded', function () {
                            const checkboxes = document.querySelectorAll(
                                '.action_box-selector input[type="checkbox"]');
                            checkboxes.forEach(checkbox => {
                                checkbox.addEventListener('change', function () {
                                    const columnClass = this.value;
                                    const columns = document.querySelectorAll(
                                        `#main_table th#${columnClass}, #main_table td#${columnClass}`
                                    );
                                    columns.forEach(column => {
                                        column.classList.toggle('hidden', !this
                                            .checked);
                                    });
                                });
                            });
                        });
                    </script>



                    <div class="action_box" id="columns_box">
                        <div class="action_box-title">
                            <p>Filter columns</p>
                        </div>
                        <div class="action_box-selector">
                            <input type="checkbox" id="dob_checkbox" name="dob" value="dob" checked>
                            <p>Dob</p>
                        </div>
                        <div class="action_box-selector">
                            <input type="checkbox" id="leave_starts_checkbox" name="leave_starts" value="leave_starts"
                                checked>
                            <p>Leave Starts</p>
                        </div>
                        <div class="action_box-selector">
                            <input type="checkbox" id="leave_ends_checkbox" name="leave_ends" value="leave_ends"
                                checked>
                            <p>Leave Ends</p>
                        </div>
                        <div class="action_box-selector">
                            <input type="checkbox" id="retires_checkbox" name="retires" value="retires" checked>
                            <p>Retires</p>
                        </div>

                        <div class="action_box-selector">
                            <input type="checkbox" id="date_checkbox" name="date" value="date" checked>
                            <p>Date</p>
                        </div>

                        <div class="action_box-selector">
                            <input type="checkbox" id="edit_checkbox" name="edit" value="edit" checked>
                            <p>Edit Button</p>
                        </div>
                        <div class="action_box-selector">
                            <input type="checkbox" id="delete_checkbox" name="delete" value="delete" checked>
                            <p>Delete Button</p>
                        </div>
                    </div>
                    <div class="action_box" id="sort_box">
                        <div class="action_box-title">
                            <p>Sort By</p>
                        </div>

                        <div class="form-group">
                            <select id="rank" required style="background-color: var(--deep_bg);">
                                <option value="" disabled selected>Columns</option>
                                <option value="dob">DoB</option>
                                <option value="leave_starts">Leave Starts</option>
                                <option value="leave_ends">Leave Ends</option>
                                <option value="retires">Retires</option>
                            </select>

                        </div>

                        <div class="form-group">
                            <input type="date" id="onorbefore" required>
                            <label for="onorbefore">On Or Before:</label>
                        </div>

                        <div class="form-group">
                            <input type="date" id="onorafter" required>
                            <label for="onorafter">On Or After:</label>
                        </div>
                    </div>





















                    <center>
                        <div class="recordnotfound" id="recordnotfound" style="padding: 2rem 2rem; display: none; margin-top: 7rem; border-radius: .5rem; width: 25rem;
      background-color: #273247; ">
        <h3 style=" color: var(--color_danger); font-size: 1.5rem; text-decoration: underline; padding: 1rem;">Record
                            Not Found!</h3>
                            <p style=" font-size: .9rem;">Ensure Correct Spelling and Arrangement of Names or Format
                                of Service Numbers and search again.</p>
                        </div>
                    </center>








                    <div class="main_table">
                        <table id="main_table">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="select_all" name="select_all" value="select_all">

                                    <th>
                                        Rec
                                    </th>
                                    <th>
                                        S/No.
                                    </th>
                                    <th>
                                        Rank
                                    </th>
                                    <th>
                                        Name
                                    </th>
                                    <th id="dob">
                                        DoB
                                    </th>
                                    <th id="leave_starts">
                                        Leave Starts
                                    </th>
                                    <th id="leave_ends">
                                        Leave Ends
                                    </th>
                                    <th id="retires">
                                        Retires
                                    </th>
                                    <th id="date">
                                        Date
                                    </th>
                                    <th>

                                    </th>
                                    <th>

                                    </th>
                                </tr>
                            </thead>





                            <tbody id="tableBody">
                                <tr>
                                    <td><input type="checkbox" id="is_selected" name="is_selected" value="is_selected">
                                    </td>
                                    <td>
                                        1
                                    </td>
                                    <td class="number" id="sno">
                                        54536
                                    </td>
                                    <td>
                                        C/Inspr
                                    </td>
                                    <td class="name" id="name">
                                        John Mensah
                                    </td>
                                    <td class="number" id="dob">
                                        04-04-1991
                                    </td>
                                    <td class="number" id="leave_starts">
                                        04-04-1993
                                    </td>
                                    <td class="number" id="leave_ends">
                                        1-06-2021
                                    </td>
                                    <td class="number" id="retires" style="color: #ec9898;">
                                        1-06-2024
                                    </td>
                                    <td class="number" id="date">
                                        1-06-2022
                                    </td>
                                    <td class="edit" id="edit">
                                        <i class="material-symbols-outlined">
                                            ink_pen</i>
                                    </td>
                                    <td class="delete" id="delete">
                                        <i class="material-symbols-outlined">
                                            delete</i>
                                    </td>
                                </tr>







                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
        </div>
    </section>


    <script>
        //script to select all checkboxes in the table
        document.addEventListener("DOMContentLoaded", function () {
            const selectAllCheckbox = document.getElementById("select_all");
            const checkboxes = document.querySelectorAll("#tableBody input[type='checkbox']");

            selectAllCheckbox.addEventListener("change", function () {
                checkboxes.forEach(function (checkbox) {
                    checkbox.checked = selectAllCheckbox.checked;
                });
            });
        });



        //sript for filtering the sort box
        document.addEventListener("DOMContentLoaded", function () {
            // Get references to elements
            const rankInput = document.getElementById('rank');
            const onOrBeforeInput = document.getElementById('onorbefore');
            const onOrAfterInput = document.getElementById('onorafter');
            const tableRows = document.querySelectorAll('#main_table tbody tr');

            // Add event listeners to inputs
            rankInput.addEventListener('change', filterTable);
            onOrBeforeInput.addEventListener('change', filterTable);
            onOrAfterInput.addEventListener('change', filterTable);

            // Filter table function
            function filterTable() {
                const selectedRank = rankInput.value;
                const onOrBeforeDate = onOrBeforeInput.value ? new Date(onOrBeforeInput.value) : null;
                const onOrAfterDate = onOrAfterInput.value ? new Date(onOrAfterInput.value) : null;

                tableRows.forEach(row => {
                    const rankCell = row.querySelector(`td#${selectedRank}`);
                    if (rankCell) {
                        const rankDate = new Date(rankCell.textContent);
                        const shouldDisplay = (!onOrBeforeInput.value || rankDate <= onOrBeforeDate) &&
                            (!onOrAfterInput.value || rankDate >= onOrAfterDate || rankDate
                                .toDateString() === onOrAfterDate.toDateString()
                            ); // Include equality here
                        row.style.display = shouldDisplay ? 'table-row' : 'none';
                    } else {
                        row.style.display = 'table-row';
                    }
                });
            }
        });
    </script>




    

<section class="footer">
    <center>
      <footer>
        <a href="#">PanDa v1.0 Copyright &copy2024 --- The AGBLE codeSTATION&trade;</a>
      </footer>
    </center>
  </section>

  <script src="../../js/main.js"></script>
</body>
</html>


